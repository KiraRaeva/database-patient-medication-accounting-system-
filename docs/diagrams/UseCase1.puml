@startuml
!theme plain

left to right direction

actor "Медработник" as Doctor
actor "Пациент" as Patient

rectangle "Система учета пациентов и лекарств" {
  ' Медработник
  usecase "Добавить отчет о всех пациентах" as UC1
  usecase "Войти в систему учета" as UC2
  usecase "Добавить пациента" as UC3
  usecase "Создать новое назначение" as UC4

  ' Include для медработника
  usecase "Добавить индивидуальные особенности пациента" as UC5
  usecase "Добавить историю болезни" as UC6
  usecase "Назначить лекарственный препарат" as UC7
  usecase "Назначить длительность приема, дозировку, время приема" as UC8

  ' Пациент
  usecase "Посмотреть текущие назначения" as UC9
  usecase "Заполнить данные о состоянии здоровья" as UC10
  usecase "Подтвердить прием по расписанию" as UC11

  ' Include/Extend для пациента
  usecase "Отметить самочувствие после приема" as UC12
  usecase "Указать пропуск лекарства и причину" as UC13
  usecase "Отметить принятый препарат" as UC14
}

' Связи акторов с use cases
Doctor -- UC1
Doctor -- UC2
Doctor -- UC3
Doctor -- UC4

Patient -- UC2
Patient -- UC9
Patient -- UC10
Patient -- UC11

' Include отношения
UC3 ..> UC5 : <<include>>
UC3 ..> UC6 : <<include>>
UC4 ..> UC7 : <<include>>
UC7 ..> UC8 : <<include>>
UC10 ..> UC12 : <<include>>

' Extend отношения
UC11 <.. UC13 : <<extend>>
UC11 <.. UC14 : <<extend>>

@enduml